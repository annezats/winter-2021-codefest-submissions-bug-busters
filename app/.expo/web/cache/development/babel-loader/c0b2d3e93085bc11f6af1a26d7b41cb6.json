{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nvar _jsxFileName = \"/Users/annezats/Desktop/CODE/winter-2021-codefest-submissions-bug-busters/app/components/Timer.js\",\n    _this = this;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useState, useEffect } from 'react';\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport useInterval from '@use-it/interval';\n\nvar Timer = function (_React$Component) {\n  _inherits(Timer, _React$Component);\n\n  var _super = _createSuper(Timer);\n\n  function Timer() {\n    _classCallCheck(this, Timer);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Timer, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props$navigatio = this.props.navigation,\n          navigate = _this$props$navigatio.navigate,\n          state = _this$props$navigatio.state;\n      var listoftimes = state.params.listoftimes.map(function (min) {\n        return min * 60;\n      });\n      var sum = listoftimes.reduce(function (accumulator, currentValue) {\n        return accumulator + currentValue;\n      }, 0);\n      var end = Date.now() + sum * 1000;\n      return React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 9\n        }\n      }, \" Study session until \", end.toLocaleString(), \" \"), React.createElement(NewTimer, {\n        listoftimes: listoftimes,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 9\n        }\n      }), React.createElement(Button, {\n        title: \"Before you start, make a to do list!\",\n        onPress: function onPress() {\n          return navigate('Checklist');\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 9\n        }\n      }), React.createElement(StatusBar, {\n        style: \"auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return Timer;\n}(React.Component);\n\nTimer.navigationOptions = {\n  title: 'Timer'\n};\nexport { Timer as default };\n\nvar NewTimer = function NewTimer(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      buttonClicked = _useState2[0],\n      setButtonClicked = _useState2[1];\n\n  var _useState3 = useState(\"Hasn't Started\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      timeAlert = _useState4[0],\n      setTimeAlert = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      i = _useState6[0],\n      setI = _useState6[1];\n\n  var _useState7 = useState(props.listoftimes[i]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      seconds = _useState8[0],\n      setSeconds = _useState8[1];\n\n  useInterval(function () {\n    if (!buttonClicked) return;\n\n    if (seconds > 1) {\n      setSeconds(seconds - 1);\n      setTimeAlert(i % 2 ? \"take a break\" : \"do work!\");\n      return;\n    }\n\n    if (i === props.listoftimes.length - 1) {\n      setTimeAlert(\"done\");\n      setButtonClicked(false);\n    } else {\n      setSeconds(props.listoftimes[i + 1]);\n      setI(i + 1);\n    }\n  }, 1000);\n  return React.createElement(React.Fragment, null, React.createElement(Button, {\n    onPress: function onPress() {\n      setButtonClicked(!buttonClicked);\n    },\n    title: buttonClicked ? \"Pause\" : \"Start\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, timeLeftCalculator(seconds), \" \"), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, timeAlert, \" \"), React.createElement(ProgressBar, {\n    i: i,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar ProgressBar = function ProgressBar(props) {\n  return React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, props.i, \" sections done! (baby progress bar)\");\n};\n\nfunction timeLeftCalculator(seconds) {\n  var days = Math.floor(seconds / (60 * 60 * 24));\n  var hours = Math.floor(seconds % (60 * 60 * 24) / (60 * 60));\n  var minutes = Math.floor(seconds % (60 * 60) / 60);\n  var secs = Math.floor(seconds % 60);\n  var timertext = days + \"d \" + hours + \"h \" + minutes + \"m \" + secs + \"s \";\n  return timertext;\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"sources":["/Users/annezats/Desktop/CODE/winter-2021-codefest-submissions-bug-busters/app/components/Timer.js"],"names":["StatusBar","React","useState","useEffect","useInterval","Timer","props","navigation","navigate","state","listoftimes","params","map","min","sum","reduce","accumulator","currentValue","end","Date","now","styles","container","toLocaleString","Component","navigationOptions","title","NewTimer","buttonClicked","setButtonClicked","timeAlert","setTimeAlert","i","setI","seconds","setSeconds","length","timeLeftCalculator","ProgressBar","days","Math","floor","hours","minutes","secs","timertext","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent"],"mappings":"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","sourcesContent":["import { StatusBar } from 'expo-status-bar';\nimport React, {useState, useEffect} from 'react';\nimport { Button, StyleSheet, Text, View } from 'react-native';\nimport useInterval from '@use-it/interval';\n\nexport default class Timer extends React.Component{\n    static navigationOptions = {title: 'Timer'};\n    render(){\n      const { navigate, state } =this.props.navigation;\n      let listoftimes=state.params.listoftimes.map(min=>min*60)//mins to seconds\n      let sum = listoftimes.reduce(\n        ( accumulator, currentValue ) => accumulator + currentValue\n      ,0)\n      let end= Date.now()+sum*1000 //this doesn't work\n      return(\n        <View style={styles.container}>\n        <Text> Study session until {end.toLocaleString()} </Text>\n        <NewTimer listoftimes={listoftimes}/>\n        <Button\n           title= \"Before you start, make a to do list!\"\n           onPress={() => navigate('Checklist')}\n\n       />\n        <StatusBar style=\"auto\" />\n        </View>\n      )\n    }\n}\n\n\nconst NewTimer =(props)=>{\n  const [buttonClicked, setButtonClicked] = useState(false);\n  const [timeAlert, setTimeAlert]= useState(\"Hasn't Started\"); //initializes timer text\n  const [i, setI]=useState(0) //counter of listoftimes\n  const [seconds,setSeconds]=useState(props.listoftimes[i])\n\n  useInterval(()=>{\n    if (!buttonClicked) return\n    if(seconds>1){\n      setSeconds(seconds-1)\n      setTimeAlert((i%2) ? \"take a break\"  : \"do work!\")\n      return\n    }\n\n    if (i=== props.listoftimes.length-1){\n      setTimeAlert(\"done\")\n      setButtonClicked(false)\n      //maybe clearInterval?\n    }\n    else{\n      setSeconds(props.listoftimes[i+1])\n      setI(i+1)\n    }\n\n  },1000)//makes it run every second\n\nreturn(\n    <>\n      <Button\n        onPress={()=>{\n          setButtonClicked(!buttonClicked);\n        }}\n        //disabled={buttonClicked}\n        title={buttonClicked ? \"Pause\" : \"Start\"}\n      />\n      <Text>{timeLeftCalculator(seconds)} </Text>\n      <Text>{timeAlert} </Text>\n      <ProgressBar i={i}/>\n    </>\n  )\n}\n\nconst ProgressBar=(props)=>{\n  return(\n    <Text>{props.i} sections done! (baby progress bar)</Text>\n  )\n}\n\nfunction timeLeftCalculator(seconds){\n  let days = Math.floor(seconds / ( 60 * 60 * 24));\n  let hours = Math.floor((seconds % (60 * 60 * 24)) / ( 60 * 60));\n  let minutes = Math.floor((seconds % ( 60 * 60)) / 60);\n  let secs = Math.floor(seconds % 60 );\n  let timertext=days + \"d \" + hours + \"h \" + minutes + \"m \" + secs + \"s \"\n  return timertext;\n}\n\nconst styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      backgroundColor: '#fff',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n  });\n"]},"metadata":{},"sourceType":"module"}